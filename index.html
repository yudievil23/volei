<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√¥lei Digital Album</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;700&display=swap');
        
        body {
            background-color: #121212; /* Preto Fosco */
            color: #e2e8f0;
            font-family: 'Inter', sans-serif;
        }

        .font-tech { font-family: 'Orbitron', sans-serif; }
        
        .orange-glow {
            box-shadow: 0 0 15px rgba(255, 102, 0, 0.3);
            border: 1px solid #ff6600;
        }

        .winner-card {
            order: -1; /* Joga para o topo no flex/grid */
            border: 2px solid #ff6600;
            background: linear-gradient(145deg, #1a1a1a, #2a1500);
            transform: scale(1.02);
            box-shadow: 0 0 25px rgba(255, 102, 0, 0.5);
        }

        .court-line {
            background-image: radial-gradient(#ff6600 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0.1;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-6xl mx-auto">
        <header class="flex justify-between items-center mb-10 border-b border-orange-600/30 pb-6">
            <div>
                <h1 class="text-4xl font-tech font-bold text-orange-500 tracking-tighter">V√îLEI <span class="text-white">ALBUM</span></h1>
                <p class="text-gray-400 text-sm">Gerenciador de Partidas & Figurinhas</p>
            </div>
            <div class="flex gap-4">
                <select id="playerCount" class="bg-black border border-orange-500 text-orange-500 p-2 rounded font-bold">
                    <option value="3">3 Jogadores</option>
                    <option value="4">4 Jogadores</option>
                    <option value="5">5 Jogadores</option>
                    <option value="6" selected>6 Jogadores</option>
                </select>
                <button onclick="addTeam()" class="bg-orange-600 hover:bg-orange-500 text-black font-bold py-2 px-6 rounded-full transition-all uppercase text-sm tracking-widest">
                    + Criar Time
                </button>
            </div>
        </header>

        <div id="teamsGrid" class="grid grid-cols-1 md:grid-cols-2 gap-8 flex">
            </div>
    </div>

    <template id="teamTemplate">
        <div class="team-card bg-[#1a1a1a] rounded-xl p-6 transition-all duration-500 relative overflow-hidden">
            <div class="court-line absolute inset-0 pointer-events-none"></div>
            
            <div class="relative z-10">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h2 class="team-name text-2xl font-tech text-white italic">TIME 1</h2>
                        <button onclick="markWinner(this)" class="win-btn mt-2 text-xs border border-gray-600 text-gray-400 px-3 py-1 rounded hover:border-orange-500 hover:text-orange-500 transition-colors">
                            MARCAR VENCEDOR
                        </button>
                    </div>
                    <div class="text-right">
                        <div class="text-[0.6rem] text-orange-500 font-bold tracking-widest uppercase">Score</div>
                        <div class="flex items-center gap-3">
                            <button onclick="updateScore(this, -1)" class="text-gray-500 hover:text-white">-</button>
                            <span class="score-value text-4xl font-tech text-white">0</span>
                            <button onclick="updateScore(this, 1)" class="text-orange-500 text-2xl hover:scale-125 transition-transform">+</button>
                        </div>
                        <button onclick="resetScore(this)" class="text-[0.6rem] text-gray-500 hover:text-red-500 underline uppercase mt-1">Zerar</button>
                    </div>
                </div>

                <div class="stickers-grid grid grid-cols-3 gap-2 mt-6">
                    </div>
            </div>
        </div>
    </template>

    <script>
        let teamCount = 0;

        function addTeam() {
            teamCount++;
            const playersPerTeam = document.getElementById('playerCount').value;
            const grid = document.getElementById('teamsGrid');
            const template = document.getElementById('teamTemplate');
            const clone = template.content.cloneNode(true);

            // Configura Nome e ID
            const card = clone.querySelector('.team-card');
            card.id = `team-${teamCount}`;
            clone.querySelector('.team-name').innerText = `TIME ${teamCount}`;

            // Gera os slots de figurinhas
            const stickersGrid = clone.querySelector('.stickers-grid');
            for (let i = 1; i <= playersPerTeam; i++) {
                const slot = document.createElement('div');
                slot.className = "aspect-[3/4] bg-black border border-dashed border-gray-700 rounded-md flex items-center justify-center cursor-pointer hover:border-orange-500 transition-all overflow-hidden relative group";
                slot.innerHTML = `
                    <input type="file" accept="image/*" class="hidden" onchange="previewImage(this)">
                    <span class="text-gray-600 group-hover:text-orange-500 text-2xl font-bold">+</span>
                    <img class="absolute inset-0 w-full h-full object-cover hidden">
                `;
                slot.onclick = () => slot.querySelector('input').click();
                stickersGrid.appendChild(slot);
            }

            grid.appendChild(clone);
        }

        function previewImage(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                const img = input.parentElement.querySelector('img');
                const span = input.parentElement.querySelector('span');
                
                reader.onload = function(e) {
                    img.src = e.target.result;
                    img.classList.remove('hidden');
                    span.classList.add('hidden');
                    input.parentElement.style.borderStyle = 'solid';
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        function updateScore(btn, val) {
            const scoreSpan = btn.parentElement.querySelector('.score-value');
            let current = parseInt(scoreSpan.innerText);
            scoreSpan.innerText = Math.max(0, current + val);
        }

        function resetScore(btn) {
            btn.parentElement.querySelector('.score-value').innerText = "0";
        }

        function markWinner(btn) {
            const allCards = document.querySelectorAll('.team-card');
            const targetCard = btn.closest('.team-card');
            const isWinner = targetCard.classList.contains('winner-card');

            // Remove vencedor de todos
            allCards.forEach(card => {
                card.classList.remove('winner-card');
                card.querySelector('.win-btn').innerText = "MARCAR VENCEDOR";
                card.querySelector('.win-btn').classList.remove('bg-orange-600', 'text-black');
            });

            // Se n√£o era vencedor, torna vencedor
            if (!isWinner) {
                targetCard.classList.add('winner-card');
                btn.innerText = "üèÜ VENCEDOR";
                btn.classList.add('bg-orange-600', 'text-black');
            }
        }

        // Criar dois times iniciais
        addTeam();
        addTeam();
    </script>
</body>
</html>